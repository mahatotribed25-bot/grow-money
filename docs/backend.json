
{
  "entities": {
    "user": {
      "title": "User",
      "description": "A user of the application.",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The user's unique ID."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "name": {
          "type": "string",
          "description": "The user's display name."
        },
        "referralCode": {
          "type": "string",
          "description": "The user's unique referral code."
        },
        "referredBy": {
          "type": "string",
          "description": "The UID of the user who referred this user."
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Blocked"
          ],
          "description": "The status of the user's account."
        },
        "upiId": {
          "type": "string",
          "description": "The user's saved UPI ID for receiving payments."
        },
        "panNumber": {
            "type": "string",
            "description": "The user's PAN card number."
        }
      },
      "required": [
        "uid",
        "email"
      ]
    },
    "loanPlan": {
      "title": "Loan Plan",
      "description": "Defines a template for a loan plan that can be requested by users.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the loan plan."
        },
        "loanAmount": {
          "type": "number",
          "description": "The amount of money disbursed to the user."
        },
        "interest": {
          "type": "number",
          "description": "The total interest to be paid."
        },
        "totalRepayment": {
          "type": "number",
          "description": "The total amount to be repaid (loan + interest)."
        },
        "duration": {
          "type": "number",
          "description": "The duration of the loan in months."
        },
        "emiOption": {
          "type": "boolean",
          "description": "Whether an EMI option is available for this loan."
        },
        "directPayOption": {
          "type": "boolean",
          "description": "Whether a direct full payment option is available."
        }
      },
      "required": [
        "name",
        "loanAmount",
        "interest",
        "totalRepayment",
        "duration"
      ]
    },
    "loanRequest": {
      "title": "Loan Request",
      "description": "A user's request for a loan.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "userName": {
          "type": "string"
        },
        "planName": {
          "type": "string"
        },
        "loanAmount": {
          "type": "number"
        },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "approved",
            "rejected",
            "sent"
          ]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "planId": {
          "type": "string"
        }
      },
      "required": [
        "userId",
        "userName",
        "planName",
        "loanAmount",
        "status",
        "createdAt",
        "planId"
      ]
    },
    "loan": {
      "title": "Active Loan",
      "description": "An active, approved loan for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "planName": {
          "type": "string"
        },
        "loanAmount": {
          "type": "number"
        },
        "interest": {
          "type": "number"
        },
        "totalPayable": {
          "type": "number"
        },
        "duration": {
          "type": "number"
        },
        "startDate": {
          "type": "string",
          "format": "date-time"
        },
        "dueDate": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Due",
            "Completed"
          ]
        },
        "amountPaid": {
          "type": "number"
        }
      },
      "required": [
        "userId",
        "planName",
        "loanAmount",
        "interest",
        "totalPayable",
        "duration",
        "startDate",
        "dueDate",
        "status",
        "amountPaid"
      ]
    },
    "adminSettings": {
      "title": "Admin Settings",
      "description": "Stores admin-specific settings for the application.",
      "type": "object",
      "properties": {
        "referralBonus": {
          "type": "number",
          "description": "Bonus amount for the referrer."
        },
        "broadcastMessage": {
          "type": "string",
          "description": "A message to be broadcast to all users on their dashboard."
        }
      }
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/user"
      },
      "description": "Stores user profile information."
    },
    "/settings/admin": {
      "schema": {
        "$ref": "#/entities/adminSettings"
      },
      "description": "Stores admin-specific settings."
    },
    "/loanPlans/{planId}": {
      "schema": {
        "$ref": "#/entities/loanPlan"
      },
      "description": "Stores available loan plans for users."
    },
    "/loanRequests/{requestId}": {
      "schema": {
        "$ref": "#/entities/loanRequest"
      },
      "description": "Stores loan requests from users."
    },
    "/users/{userId}/loans/{loanId}": {
      "schema": {
        "$ref": "#/entities/loan"
      },
      "description": "Stores active loans for a user."
    }
  }
}
